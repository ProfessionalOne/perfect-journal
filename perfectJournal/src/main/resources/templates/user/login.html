<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>감사일기 - 로그인</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap");

      body {
        font-family: "Noto Sans KR", -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, sans-serif;
        background-color: #f5f5f7;
        color: #1d1d1f;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .login-container {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.4) 0%,
          rgba(255, 255, 255, 0.2) 100%
        );
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.18);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        border-radius: 24px;
        padding: 2rem;
        width: 100%;
        max-width: 400px;
        margin: 2rem auto;
      }

      .bg-pattern {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.4;
        background-image: radial-gradient(
            circle at 25% 25%,
            rgba(0, 113, 227, 0.2) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 75% 75%,
            rgba(255, 149, 0, 0.2) 0%,
            transparent 50%
          );
      }

      .logo-icon {
        filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.1));
        width: 64px;
        height: 64px;
        margin-bottom: 1rem;
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      .form-control {
        background-color: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.4);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        padding: 0.75rem 1rem;
        border-radius: 12px;
      }

      .form-control:focus {
        background-color: rgba(255, 255, 255, 0.9);
        border-color: #0d6efd;
        box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.2);
      }

      .btn-primary {
        background-color: #0d6efd;
        border: none;
        padding: 0.75rem 1rem;
        border-radius: 12px;
        font-weight: 500;
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        background-color: #0b5ed7;
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(13, 110, 253, 0.4);
      }

      .btn-outline-secondary {
        border: 1px solid rgba(108, 117, 125, 0.5);
        background-color: rgba(255, 255, 255, 0.7);
        padding: 0.75rem 1rem;
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .btn-outline-secondary:hover {
        background-color: rgba(108, 117, 125, 0.1);
        border-color: rgba(108, 117, 125, 0.7);
      }

      .social-login-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        border-radius: 12px;
        font-weight: 500;
        transition: all 0.3s ease;
        width: 100%;
        margin-bottom: 0.75rem;
      }

      .social-login-btn:hover {
        transform: translateY(-2px);
      }

      .btn-kakao {
        background-color: #fee500;
        color: #000000;
        border: none;
        box-shadow: 0 4px 12px rgba(254, 229, 0, 0.3);
      }

      .btn-kakao:hover {
        background-color: #f2d900;
        color: #000000;
        box-shadow: 0 6px 16px rgba(254, 229, 0, 0.4);
      }

      .btn-naver {
        background-color: #03c75a;
        color: #ffffff;
        border: none;
        box-shadow: 0 4px 12px rgba(3, 199, 90, 0.3);
      }

      .btn-naver:hover {
        background-color: #02b150;
        color: #ffffff;
        box-shadow: 0 6px 16px rgba(3, 199, 90, 0.4);
      }

      .btn-google {
        background-color: #ffffff;
        color: #757575;
        border: 1px solid #dadce0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .btn-google:hover {
        background-color: #f8f9fa;
        color: #202124;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      }

      .divider {
        display: flex;
        align-items: center;
        margin: 1.5rem 0;
      }

      .divider-line {
        flex-grow: 1;
        height: 1px;
        background-color: rgba(0, 0, 0, 0.1);
      }

      .divider-text {
        padding: 0 1rem;
        color: #6c757d;
        font-size: 0.875rem;
      }

      .modal-content {
        border-radius: 1rem;
        box-shadow: 0 0.75rem 2rem rgba(0, 0, 0, 0.1);
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        border: none;
      }

      .modal-header {
        border-bottom: none;
        padding: 1.5rem 2rem 0.5rem 2rem;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .modal-header .modal-title {
        color: #1d1d1f;
        font-weight: 600;
        font-size: 1.35rem;
        margin-top: 0.5rem;
      }

      .modal-header .modal-title i {
        font-size: 2.5rem;
        color: #0d6efd;
        margin-bottom: 0.5rem;
      }

      .modal-header .btn-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%236c757d'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/%3e%3c/svg%3e");
        opacity: 0.7;
        padding: 0.5rem;
        transition: opacity 0.2s ease;
      }
      .modal-header .btn-close:hover {
        opacity: 1;
      }

      .modal-body {
        padding: 1rem 2rem 2rem 2rem;
        text-align: center;
        color: #4a4a4a;
        font-size: 1rem;
        line-height: 1.5;
      }

      .modal-footer {
        border-top: none;
        padding: 0 2rem 2rem 2rem;
        display: flex;
        justify-content: center;
      }

      .modal-footer .btn-secondary {
        background-color: #6c757d;
        border-color: #6c757d;
        color: #fff;
        border-radius: 0.75rem;
        padding: 0.7rem 2rem;
        font-weight: 500;
        transition: all 0.2s ease;
      }
      .modal-footer .btn-secondary:hover {
        background-color: #5a6268;
        border-color: #545b62;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="bg-pattern"></div>

    <div class="container">
      <div class="login-container">
        <div class="text-center mb-4">
          <div class="d-inline-block">
            <svg
              class="logo-icon floating"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18.7101 19.5C17.8801 20.74 17.0001 21.95 15.6601 21.97C14.3201 22 13.8901 21.18 12.3701 21.18C10.8501 21.18 10.3701 21.95 9.10005 22C7.79005 22.05 6.80005 20.68 5.96005 19.47C4.25005 17 2.94005 12.45 4.70005 9.39C5.57005 7.87 7.13005 6.91 8.82005 6.88C10.1001 6.86 11.3201 7.75 12.1101 7.75C12.8901 7.75 14.3701 6.68 15.9201 6.84C16.5701 6.87 18.3901 7.1 19.5601 8.82C19.4701 8.88 17.3901 10.1 17.4101 12.63C17.4401 15.65 20.0601 16.66 20.0901 16.67C20.0601 16.74 19.6701 18.11 18.7101 19.5ZM13.0001 3.5C13.7301 2.67 14.9401 2.04 15.9401 2C16.0701 3.17 15.6001 4.35 14.9001 5.19C14.2101 6.04 13.0701 6.7 11.9501 6.61C11.8001 5.46 12.2701 4.35 13.0001 3.5Z"
                fill="#0d6efd"
              />
            </svg>
          </div>
          <h1 class="fs-2 fw-bold">감사일기</h1>
          <p class="text-secondary mt-2">매일 감사한 일을 기록하세요</p>
        </div>

        <form id="loginForm" th:action="@{/users/login}" method="post">
          <div class="mb-3">
            <label for="user" class="form-label">아이디</label>
            <input
              name="user"
              type="text"
              class="form-control"
              id="user"
              placeholder="아이디를 입력하세요"
              required
            />
          </div>

          <div class="mb-3">
            <label for="password" class="form-label">비밀번호</label>
            <input
              name="password"
              type="password"
              class="form-control"
              id="password"
              placeholder="비밀번호를 입력하세요"
              required
            />
          </div>

          <div class="mb-4 form-check">
            <input type="checkbox" class="form-check-input" id="remember-me" />
            <label class="form-check-label" for="remember-me"
              >로그인 상태 유지</label
            >
          </div>

          <div class="d-grid mb-3">
            <button type="submit" id="login-btn" class="btn btn-primary">
              로그인
            </button>
          </div>

          <div class="d-flex justify-content-between mb-4">
            <a
              th:href="@{/users/find}"
              class="text-decoration-none text-secondary small"
              >아이디/비밀번호 찾기</a
            >
            <a
              th:href="@{/users/signup}"
              class="text-decoration-none text-secondary small"
              >회원가입</a
            >
          </div>
        </form>
      </div>
    </div>

    <div
      th:if="${error}"
      class="modal fade"
      id="signupErrorModal"
      tabindex="-1"
      aria-labelledby="signupErrorModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <i class="ri-information-line"></i>
            <h5 class="modal-title" id="signupErrorModalLabel">로그인 안내</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body" th:text="${error}"></div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              확인
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const signupErrorModalElement =
          document.getElementById("signupErrorModal");
        if (signupErrorModalElement) {
          const signupErrorModal = new bootstrap.Modal(signupErrorModalElement);
          signupErrorModal.show();
        }
      });
    </script>
  </body>
</html>
